<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Original Breast Protector Game</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.min.js"></script>
    <!-- Add Supabase client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> 
    <style>
        body { margin: 0; overflow: hidden; background-color: #f0f0f0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script>
        // Initialize Supabase globally
        const SUPABASE_URL = 'https://yzfvtzidzszdbsoxiduy.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl6ZnZ0emlkenN6ZGJzb3hpZHV5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0Nzg0MjYsImV4cCI6MjA2MDA1NDQyNn0.FbgXJGlD40qcDnzfg18tuH4SJvPRufb4mdiNDa3dLLg';
        window.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        console.log('Supabase initialized for original sketch');

        // Add validation function
        const BANNED_WORDS = [
            'badword1',
            'badword2',
            'badword3'
        ];

        function validatePlayerName(name) {
            // Check for banned words
            const lowerName = name.toLowerCase();
            for (const word of BANNED_WORDS) {
                if (lowerName.includes(word.toLowerCase())) {
                    return {
                        valid: false,
                        reason: 'Name contains inappropriate content'
                    };
                }
            }

            // Check minimum length
            if (name.length < 2) {
                return {
                    valid: false,
                    reason: 'Name must be at least 2 characters long'
                };
            }

            // Check for valid characters (letters, numbers, and spaces only)
            if (!/^[a-zA-Z0-9\s]+$/.test(name)) {
                return {
                    valid: false,
                    reason: 'Name can only contain letters, numbers, and spaces'
                };
            }

            return {
                valid: true,
                reason: 'Valid name!'
            };
        }
    </script>
    <!-- Load the original sketch file -->
    <script src="original/sketch.js"></script>
</body>
</html> 